function BannerApp(){var bannerGlobalObject=window.banner;this.options={};this.bannerNode=null;this.organization_id=null;this.appendTo=null;var self=this;this.init=function(options){if(typeof options!=="object")return console.error("Error: need configurations object");self.options=Object.assign(self.options,options);self.organization_id=options.organization_id||null;self.appendTo=document.querySelector(options.appendTo)||document.querySelector("body");fetch("/api/v1/marketing/banner?url="+encodeURIComponent(window.location.href)+(self.organization_id?"&organization_id="+self.organization_id:"")).then(function(response){return response.json()}).then(function(value){if(value.success){self.renderBanner(value.data)}});var bannerAPI=window.banner;bannerAPI.q=window.banner.q;bannerAPI.init=self.init;bannerAPI.hide=self.hide;bannerAPI.show=self.show;self.dequeueCall();window.banner=bannerAPI};this.renderBanner=function(bannerData){if(bannerData.message){var branding=bannerData.branding?bannerData.branding:null;var bannerWrapperNode=document.createElement("div");bannerWrapperNode.classList.add("banner");if(branding){bannerWrapperNode.style.background=branding.primary;bannerWrapperNode.style.color=branding.secondary}if(bannerData.emoji){var bannerEmoji=document.createElement("div");bannerEmoji.classList.add("banner__icon");bannerEmoji.innerHTML=bannerData.emoji;bannerWrapperNode.appendChild(bannerEmoji)}var bannerText=document.createElement("div");bannerText.classList.add("banner__message");bannerText.innerHTML=bannerData.message;bannerWrapperNode.appendChild(bannerText);self.bannerNode=bannerWrapperNode;self.appendTo.insertBefore(bannerWrapperNode,self.appendTo.firstChild)}};this.dequeueCall=function(){var allowedCalls=["hide","show"];var priorCalls=window.banner&&window.banner.q&&typeof window.banner.q==="object"?window.banner.q:[];priorCalls.forEach(function(call){var method=call[0];var args=call[1];if(allowedCalls.includes(method)){self[method].apply(self,args)}})};this.show=function(){if(self.bannerNode.style.display==="none"){self.bannerNode.style.display="flex"}};this.hide=function(){if(self.bannerNode.style.display!=="none"){self.bannerNode.style.display="none"}}}var initCall=window.banner.q.find(function(call){return call[0]==="init"});var bannerAPI=function(){};var banner=new BannerApp;banner[initCall[0]].apply(bannerAPI,initCall[1]);